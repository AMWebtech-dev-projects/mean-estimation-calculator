(self.webpackChunkangular=self.webpackChunkangular||[]).push([[853],{4853:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ManageServicesModule:()=>_});var r=i(2057),n=i(6090),a=i(7988),s=i(5551),o=i(9765);class c{constructor(){this.serviceName="",this.expertise=0,this.status=1}}class l{constructor(){this.serviceName="",this.expertise="",this.teamSize="",this.hourlyPrice="",this.monthlyPrice="",this.pagePrice="",this.devicePrice="",this.discount=""}}var d=i(793),g=i(6633),h=i(9866),u=i(9699),Z=i(3738),p=i(337),m=i(3358),v=i(6355),f=i(5921);const A=["addEditManageServiceModal"],T=["deleteManageServiceModal"];function q(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",52),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA(),d.TgZ(15,"td"),d._uU(16),d.qZA(),d.TgZ(17,"td"),d._uU(18),d.qZA(),d.TgZ(19,"td"),d._uU(20),d.ALo(21,"date"),d.qZA(),d.TgZ(22,"td"),d.TgZ(23,"ui-switch",53),d.NdJ("change",function(){const t=d.CHM(e).$implicit;return d.oxw().changeServiceStatus(t)})("ngModelChange",function(t){return d.CHM(e).$implicit.status=t}),d.qZA(),d.qZA(),d.TgZ(24,"td",9),d.TgZ(25,"div",54),d.TgZ(26,"button",55),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().showAddEditModal(t)}),d._UZ(27,"i",56),d.qZA(),d.TgZ(28,"button",57),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().showDeleteModal(t)}),d._UZ(29,"i",58),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,i=t.index,r=d.oxw();d.xp6(2),d.Oqu(i+1),d.xp6(2),d.Oqu(e.serviceName),d.xp6(2),d.Oqu(r.showExpertiseName(e.expertise)),d.xp6(2),d.Oqu(e.teamSize),d.xp6(2),d.Oqu(e.hourlyPrice),d.xp6(2),d.Oqu(e.monthlyPrice),d.xp6(2),d.Oqu(e.pagePrice),d.xp6(2),d.Oqu(e.devicePrice),d.xp6(2),d.Oqu(e.discount),d.xp6(2),d.Oqu(d.xi3(21,11,e.createdAt,"d/M/yyyy")),d.xp6(3),d.Q6J("ngModel",e.status)}}function S(e,t){1&e&&(d.TgZ(0,"p",59),d._uU(1," This Service Already Exists, please try another one. "),d.qZA())}function b(e,t){if(1&e&&(d.TgZ(0,"option",60),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("ngValue",e.value),d.xp6(1),d.hij(" ",e.label," ")}}const x=function(){return{backdrop:"static",keyboard:!1,animated:!0}},M=[{path:"",component:(()=>{class e{constructor(e,t,i,r,n,d){this.jwtService=e,this.manageService=t,this.alertService=i,this.spinner=r,this.toastr=n,this.globalService=d,this.title="Manage Services | Estimation Calculator",this.manageServicesInfo=new c,this.manageServicesList=[],this.checkserviceExists=!1,this.datatableElement=a.G,this.dtOptions={},this.dtTrigger=new o.xQ,this.config={},this.expertiseList=[],this.addEditManageServiceModal=s.oB,this.deleteManageServiceModal=s.oB,this.requiredValidation=new l,this.getManageServicesList()}ngOnInit(){this.config=this.jwtService.getConfig(),this.expertiseList=this.config.expertise,this.dtOptions={responsive:!0,scrollX:!0,scrollY:"350px",scrollCollapse:!0,autoWidth:!1,columnDefs:[{targets:10,orderable:!1,searchable:!1},{targets:11,orderable:!1,searchable:!1}]},this.globalService.getPageTitle(this.title)}ngAfterViewInit(){this.dtTrigger.next()}getManageServicesList(){this.manageService.getManageServices().subscribe(e=>{this.spinner.show(),200===e.status&&(this.spinner.hide(),this.datatableElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next(),this.manageServicesList=e.data,this.spinner.hide()}))},e=>{this.spinner.hide(),this.toastr.error(e.message,"Error!")})}showExpertiseName(e){if(this.expertiseList&&this.expertiseList.length){let t=this.expertiseList.find(t=>t.value===e);return t?t.label:""}return""}closeModel(){this.addEditManageServiceModal.hide(),this.deleteManageServiceModal.hide()}showAddEditModal(e){this.alertService.clear(),this.checkserviceExists=!1,this.manageServicesInfo=e&&e._id?Object.assign({},e):new c,this.addEditManageServiceModal.show()}showDeleteModal(e){this.manageServicesInfo=e,this.deleteManageServiceModal.show()}checkvalidation(e){return Object.assign({},this.manageServicesInfo)[e]?"text-primary":"text-danger"}serviceExistCheck(e){if(e)if(this.manageServicesList.length){let t=this.manageServicesList.find(t=>e._id?e._id!==t._id&&t.serviceName.toLowerCase()===e.serviceName.toLowerCase():t.serviceName.toLowerCase()===e.serviceName.toLowerCase());this.checkserviceExists=!!t}else this.checkserviceExists=!1;else this.checkserviceExists=!1}addService(){const e=Object.keys(this.requiredValidation);let t=JSON.parse(JSON.stringify(this.manageServicesInfo));const i=e.filter(e=>!t[e]);if(this.spinner.show(),i.length)return this.alertService.clear(),this.alertService.error("*Please Fill All Fields are mandatory."),this.spinner.hide(),!1;let r=JSON.parse(JSON.stringify(this.manageServicesInfo));this.manageService.saveServiceInfo(r).subscribe(e=>{200===e.status&&(this.spinner.hide(),this.toastr.success(e.message,"Success!"),e=e.data,this.closeModel(),this.getManageServicesList())},e=>{this.spinner.hide(),this.toastr.error(e.message,"Error!")})}changeServiceStatus(e){this.manageService.saveServiceInfo({_id:e._id,status:e.status?0:1}).subscribe(e=>{if(200===e.status){this.spinner.hide(),e=e.data,this.toastr.success("Service status has been changed successfully.","Success!");let t=this.manageServicesList.findIndex(t=>t._id===e._id);t&&(this.manageServicesList[t].status=e.status)}},e=>{this.spinner.hide(),this.toastr.error(e.message,"Error!")})}deleteService(){this.spinner.show(),this.manageService.deleteService(this.manageServicesInfo).subscribe(e=>{200===e.status&&(this.closeModel(),this.spinner.hide(),this.getManageServicesList(),this.toastr.success(e.message,"Success"))},e=>{this.closeModel(),this.spinner.hide(),this.toastr.error("There are some server error.Please check connection.","Error")})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(g.Tj),d.Y36(g.sp),d.Y36(g.c9),d.Y36(h.t2),d.Y36(u._W),d.Y36(g.Uh))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-manage-services"]],viewQuery:function(e,t){if(1&e&&(d.Gf(a.G,5),d.Gf(A,5),d.Gf(T,5)),2&e){let e;d.iGM(e=d.CRH())&&(t.datatableElement=e.first),d.iGM(e=d.CRH())&&(t.addEditManageServiceModal=e.first),d.iGM(e=d.CRH())&&(t.deleteManageServiceModal=e.first)}},decls:132,vars:28,consts:[[1,"d-flex","flex-row"],[1,"col-12"],[1,"opacity-50"],[1,"container-fluid","app-region","bg-white","py-3","dataDisplaySection"],[1,"d-flex","justify-content-end","mb-3"],[1,"btn","btn-sm","btn-primary","ms-3",3,"click"],[1,"fas","fa-plus","me-2"],["datatable","",1,"table","table-bordered","table-hover","table-striped",3,"dtOptions","dtTrigger"],[1,"text-nowrap"],[1,"text-center"],[1,"text-wrap"],[4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade",3,"config"],["addEditManageServiceModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","row-xs","align-items-center","mg-b-20"],[1,"mb-3"],["for","serviceName",1,"form-label"],[3,"ngClass"],[1,"fas","fa-star","fa-xs"],["type","text","id","serviceName","maxlength","35","placeholder","Enter Service Name","name","serviceName","characterOnly","",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger mt-1 mb-0","role","alert",4,"ngIf"],["for","expertise",1,"form-label"],["id","expertise","name","expertise",1,"form-select",3,"ngModel","ngModelChange"],["value","0"],[3,"ngValue",4,"ngFor","ngForOf"],["for","teamSize",1,"form-label"],["type","text","id","teamSize","numbersOnly","","placeholder","Enter Team Size","name","teamSize",1,"form-control",3,"ngModel","ngModelChange"],["for","hourlyPrice",1,"form-label"],["type","text","id","hourlyPrice","numbersOnly","","placeholder","Enter Hourly Price","name","hourlyPrice",1,"form-control",3,"ngModel","ngModelChange"],["for","monthlyPrice",1,"form-label"],["type","text","id","monthlyPrice","numbersOnly","","placeholder","Enter Monthly Price","name","monthlyPrice",1,"form-control",3,"ngModel","ngModelChange"],["for","pagePrice",1,"form-label"],["type","text","id","pagePrice","numbersOnly","","placeholder","Enter Price","name","pagePrice",1,"form-control",3,"ngModel","ngModelChange"],["for","devicePrice",1,"form-label"],["type","text","id","devicePrice","numbersOnly","","placeholder","Enter Device Price","name","devicePrice",1,"form-control",3,"ngModel","ngModelChange"],["for","discount",1,"form-label"],["type","text","id","discount","numbersOnly","","placeholder","Enter Discount","name","discount",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer","border-top-0","justify-content-start"],["type","submit",1,"btn","btn-primary",3,"click"],["deleteManageServiceModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"fa","fa-trash"],[1,"modal-footer","border-top-0","d-flex","justify-content-start"],["type","button",1,"btn","btn-default","me-1",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["scope","row"],["color","#4285F4","defaultBgColor","#d9d9d9","labelOn","Active","labelOff","Inactive",3,"ngModel","change","ngModelChange"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-sm","edit","me-1",3,"click"],[1,"far","fa-edit"],["type","button",1,"btn","btn-sm","delete",3,"click"],[1,"far","fa-trash-alt"],["role","alert",1,"alert","alert-danger","mt-1","mb-0"],[3,"ngValue"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"h4",2),d._uU(3,"Manage Services"),d.qZA(),d._UZ(4,"hr"),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.TgZ(6,"div",4),d.TgZ(7,"div"),d.TgZ(8,"button",5),d.NdJ("click",function(){return t.showAddEditModal()}),d._UZ(9,"i",6),d._uU(10,"Add New"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"table",7),d.TgZ(12,"thead"),d.TgZ(13,"tr",8),d.TgZ(14,"th"),d._uU(15,"S.No"),d.qZA(),d.TgZ(16,"th"),d._uU(17,"Service Name"),d.qZA(),d.TgZ(18,"th"),d._uU(19,"Expertise"),d.qZA(),d.TgZ(20,"th"),d._uU(21,"Team Size"),d.qZA(),d.TgZ(22,"th"),d._uU(23,"Hourly Price"),d.qZA(),d.TgZ(24,"th"),d._uU(25,"Monthly Price"),d.qZA(),d.TgZ(26,"th"),d._uU(27,"Per Page Price"),d.qZA(),d.TgZ(28,"th"),d._uU(29,"Per Device Price"),d.qZA(),d.TgZ(30,"th"),d._uU(31,"Discount"),d.qZA(),d.TgZ(32,"th"),d._uU(33,"Created At"),d.qZA(),d.TgZ(34,"th"),d._uU(35,"Status"),d.qZA(),d.TgZ(36,"th",9),d._uU(37,"Actions"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"tbody",10),d.YNc(39,q,30,14,"tr",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(40,"div",12,13),d.TgZ(42,"div",14),d.TgZ(43,"div",15),d.TgZ(44,"div",16),d.TgZ(45,"h4",17),d._uU(46),d.qZA(),d.TgZ(47,"button",18),d.NdJ("click",function(){return t.closeModel()}),d.TgZ(48,"span",19),d._uU(49,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(50,"div",20),d.TgZ(51,"div",21),d.TgZ(52,"div",22),d.TgZ(53,"label",23),d._uU(54," Service Name "),d.TgZ(55,"sup",24),d._UZ(56,"i",25),d.qZA(),d.qZA(),d.TgZ(57,"input",26),d.NdJ("ngModelChange",function(e){return t.manageServicesInfo.serviceName=e})("ngModelChange",function(){return t.serviceExistCheck(t.manageServicesInfo)}),d.qZA(),d.YNc(58,S,2,0,"p",27),d.qZA(),d.TgZ(59,"div",22),d.TgZ(60,"label",28),d._uU(61,"Expertise "),d.TgZ(62,"sup",24),d._UZ(63,"i",25),d.qZA(),d.qZA(),d.TgZ(64,"select",29),d.NdJ("ngModelChange",function(e){return t.manageServicesInfo.expertise=e}),d.TgZ(65,"option",30),d._uU(66,"Choose Expertise"),d.qZA(),d.YNc(67,b,2,2,"option",31),d.qZA(),d.qZA(),d.TgZ(68,"div",22),d.TgZ(69,"label",32),d._uU(70,"Team Size "),d.TgZ(71,"sup",24),d._UZ(72,"i",25),d.qZA(),d.qZA(),d.TgZ(73,"input",33),d.NdJ("ngModelChange",function(e){return t.manageServicesInfo.teamSize=e}),d.qZA(),d.qZA(),d.TgZ(74,"div",22),d.TgZ(75,"label",34),d._uU(76,"Hourly Price "),d.TgZ(77,"sup",24),d._UZ(78,"i",25),d.qZA(),d.qZA(),d.TgZ(79,"input",35),d.NdJ("ngModelChange",function(e){return t.manageServicesInfo.hourlyPrice=e}),d.qZA(),d.qZA(),d.TgZ(80,"div",22),d.TgZ(81,"label",36),d._uU(82,"Monthly Price "),d.TgZ(83,"sup",24),d._UZ(84,"i",25),d.qZA(),d.qZA(),d.TgZ(85,"input",37),d.NdJ("ngModelChange",function(e){return t.manageServicesInfo.monthlyPrice=e}),d.qZA(),d.qZA(),d.TgZ(86,"div",22),d.TgZ(87,"label",38),d._uU(88,"Per Page Price "),d.TgZ(89,"sup",24),d._UZ(90,"i",25),d.qZA(),d.qZA(),d.TgZ(91,"input",39),d.NdJ("ngModelChange",function(e){return t.manageServicesInfo.pagePrice=e}),d.qZA(),d.qZA(),d.TgZ(92,"div",22),d.TgZ(93,"label",40),d._uU(94,"Per Device Price "),d.TgZ(95,"sup",24),d._UZ(96,"i",25),d.qZA(),d.qZA(),d.TgZ(97,"input",41),d.NdJ("ngModelChange",function(e){return t.manageServicesInfo.devicePrice=e}),d.qZA(),d.qZA(),d.TgZ(98,"div",22),d.TgZ(99,"label",42),d._uU(100,"Discount in % "),d.TgZ(101,"sup",24),d._UZ(102,"i",25),d.qZA(),d.qZA(),d.TgZ(103,"input",43),d.NdJ("ngModelChange",function(e){return t.manageServicesInfo.discount=e}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(104,"app-alert"),d.TgZ(105,"div",44),d.TgZ(106,"button",45),d.NdJ("click",function(){return t.addService()}),d._uU(107),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(108,"div",12,46),d.TgZ(110,"div",47),d.TgZ(111,"div",15),d.TgZ(112,"div",16),d.TgZ(113,"h4",17),d._UZ(114,"i",48),d._uU(115," Delete Service"),d.qZA(),d.TgZ(116,"button",18),d.NdJ("click",function(){return t.closeModel()}),d.TgZ(117,"span",19),d._uU(118,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(119,"div",20),d.TgZ(120,"h4"),d._uU(121,"Are you sure want to delete this Service?"),d.qZA(),d.TgZ(122,"p"),d.TgZ(123,"b"),d._uU(124,"Service :"),d.qZA(),d._uU(125),d._UZ(126,"br"),d.qZA(),d.qZA(),d.TgZ(127,"div",49),d.TgZ(128,"button",50),d.NdJ("click",function(){return t.closeModel()}),d._uU(129,"Close"),d.qZA(),d.TgZ(130,"button",51),d.NdJ("click",function(){return t.deleteService()}),d._uU(131,"Delete"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(11),d.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),d.xp6(28),d.Q6J("ngForOf",t.manageServicesList),d.xp6(1),d.Q6J("config",d.DdM(26,x)),d.xp6(6),d.hij("",t.manageServicesInfo._id?"Edit":"Add"," Service"),d.xp6(9),d.Q6J("ngClass",t.checkvalidation("serviceName")),d.xp6(2),d.Q6J("ngModel",t.manageServicesInfo.serviceName),d.xp6(1),d.Q6J("ngIf",t.checkserviceExists),d.xp6(4),d.Q6J("ngClass",t.checkvalidation("expertise")),d.xp6(2),d.Q6J("ngModel",t.manageServicesInfo.expertise),d.xp6(3),d.Q6J("ngForOf",t.expertiseList),d.xp6(4),d.Q6J("ngClass",t.checkvalidation("teamSize")),d.xp6(2),d.Q6J("ngModel",t.manageServicesInfo.teamSize),d.xp6(4),d.Q6J("ngClass",t.checkvalidation("hourlyPrice")),d.xp6(2),d.Q6J("ngModel",t.manageServicesInfo.hourlyPrice),d.xp6(4),d.Q6J("ngClass",t.checkvalidation("monthlyPrice")),d.xp6(2),d.Q6J("ngModel",t.manageServicesInfo.monthlyPrice),d.xp6(4),d.Q6J("ngClass",t.checkvalidation("pagePrice")),d.xp6(2),d.Q6J("ngModel",t.manageServicesInfo.pagePrice),d.xp6(4),d.Q6J("ngClass",t.checkvalidation("devicePrice")),d.xp6(2),d.Q6J("ngModel",t.manageServicesInfo.devicePrice),d.xp6(4),d.Q6J("ngClass",t.checkvalidation("discount")),d.xp6(2),d.Q6J("ngModel",t.manageServicesInfo.discount),d.xp6(4),d.hij("",t.manageServicesInfo._id?"Update":"Add"," "),d.xp6(1),d.Q6J("config",d.DdM(27,x)),d.xp6(17),d.hij(" ",t.manageServicesInfo.serviceName," "))},directives:[a.G,r.sg,s.oB,r.mk,Z.Fj,Z.nD,p.y,Z.JJ,Z.On,r.O5,Z.EJ,Z.YN,Z.Kr,m.Y,v.w,f.o],pipes:[r.uU],styles:[""]}),e})(),pathMatch:"full"}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[n.Bz.forChild(M)],n.Bz]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[r.ez,g.eY,y]]}),e})()}}]);